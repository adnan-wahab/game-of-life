{"version":3,"sources":["grid.js","App.js","reportWebVitals.js","index.js"],"names":["BOARD","TIMEOUT","CELL_SIZE","Cell","x","y","filled","speed","className","style","left","top","width","height","transitionDuration","makeEmptyBoard","rows","cols","board","calculateNeighbors","neighbors","dirs","i","length","dir","y1","x1","Grid","boardRef","useRef","useState","isRunning","setRunning","setSpeed","size","setSize","useEffect","console","log","makeCells","cells","setCells","runIteration","newBoard","window","setTimeout","buttonClass","backgroundSize","onClick","event","elemOffset","rect","current","getBoundingClientRect","doc","document","documentElement","pageXOffset","clientLeft","pageYOffset","clientTop","getElementOffset","offsetX","clientX","offsetY","clientY","Math","floor","ref","map","row","col","j","type","min","max","value","onChange","target","clearTimeout","random","innerHeight","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.eaa63338.chunk.js","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport \"./Game.css\";\nimport { CSSTransitionGroup } from \"react-transition-group\"; // ES6\n\nconst CELL_SIZE = 20;\n\nconst Cell = ({ x, y, filled, speed }) => {\n  return (\n    <div\n      className={(filled ? \"cell\" : \"empty\") + \" transition\"}\n      style={{\n        left: `${CELL_SIZE * x + 1}px`,\n        top: `${CELL_SIZE * y + 1}px`,\n        width: `${CELL_SIZE - 1}px`,\n        height: `${CELL_SIZE - 1}px`,\n        transitionDuration: speed + \"ms\",\n      }}\n    />\n  );\n};\n\nconst makeEmptyBoard = (rows, cols) => {\n  let board = [];\n  for (let y = 0; y < rows; y++) {\n    board[y] = [];\n    for (let x = 0; x < cols; x++) {\n      board[y][x] = false;\n    }\n  }\n\n  return board;\n};\n\nlet BOARD;\nlet TIMEOUT;\n\nconst calculateNeighbors = (board, x, y, rows, cols) => {\n  let neighbors = 0;\n\n  const dirs = [\n    [-1, -1],\n    [-1, 0],\n    [-1, 1],\n    [0, 1],\n    [1, 1],\n    [1, 0],\n    [1, -1],\n    [0, -1],\n  ];\n  for (let i = 0; i < dirs.length; i++) {\n    const dir = dirs[i];\n    let y1 = y + dir[0];\n    let x1 = x + dir[1];\n\n    if (x1 < 0) x1 = cols - 1;\n    if (y1 < 0) y1 = rows - 1;\n    // if (x1 < 0) continue\n    // if (y1 < 0) continue\n\n    if (x1 < cols && y1 < rows && board[y1][x1]) {\n      neighbors++;\n    }\n  }\n\n  return neighbors;\n};\n\nconst getElementOffset = (boardRef) => {\n  const rect = boardRef.current.getBoundingClientRect();\n  const doc = document.documentElement;\n\n  return {\n    x: rect.left + window.pageXOffset - doc.clientLeft,\n    y: rect.top + window.pageYOffset - doc.clientTop,\n  };\n};\n\nconst Grid = ({}) => {\n  let boardRef = useRef(null);\n\n  let [isRunning, setRunning] = useState(false),\n    [speed, setSpeed] = useState(100),\n    [size, setSize] = useState(30);\n\n  const rows = size,\n    cols = size;\n  BOARD = BOARD || makeEmptyBoard(rows, cols);\n\n  useEffect(() => {\n    BOARD = makeEmptyBoard(rows, cols);\n    console.log(\"RESIZING\", BOARD.length);\n  }, [size]);\n\n  const makeCells = (rows, cols) => {\n    let cells = [];\n    for (let y = 0; y < rows; y++) {\n      for (let x = 0; x < cols; x++) {\n        if (BOARD[y][x]) {\n          cells[`${x}${y}`] = true;\n        }\n      }\n    }\n    return cells;\n  };\n  let [cells, setCells] = useState([]);\n\n  const handleClick = (event) => {\n    const elemOffset = getElementOffset(boardRef);\n    const offsetX = event.clientX - elemOffset.x;\n    const offsetY = event.clientY - elemOffset.y;\n\n    const x = Math.floor(offsetX / CELL_SIZE);\n    const y = Math.floor(offsetY / CELL_SIZE);\n\n    if (x >= 0 && x <= cols && y >= 0 && y <= rows) {\n      BOARD[y][x] = !BOARD[y][x];\n    }\n    setCells(makeCells(rows, cols));\n  };\n\n  const runGame = () => {\n    setRunning(true);\n    runIteration();\n  };\n\n  const stopGame = () => {\n    setRunning(false);\n    console.log(TIMEOUT);\n    if (TIMEOUT) {\n      window.clearTimeout(TIMEOUT);\n      TIMEOUT = null;\n    }\n  };\n\n  const runIteration = () => {\n    let newBoard = makeEmptyBoard(rows, cols);\n\n    for (let y = 0; y < rows; y++) {\n      for (let x = 0; x < cols; x++) {\n        let neighbors = calculateNeighbors(BOARD, x, y, rows, cols);\n        if (BOARD[y][x]) {\n          if (neighbors === 2 || neighbors === 3) {\n            newBoard[y][x] = true;\n          } else {\n            newBoard[y][x] = false;\n          }\n        } else {\n          if (!BOARD[y][x] && neighbors === 3) {\n            newBoard[y][x] = true;\n          }\n        }\n      }\n    }\n\n    BOARD = newBoard;\n    setCells(makeCells(rows, cols));\n    TIMEOUT = window.setTimeout(runIteration, speed);\n  };\n\n  const handleIntervalChange = (event) => {\n    setSpeed(event.target.value);\n  };\n\n  const handleSizeChange = (event) => {\n    setSize(event.target.value);\n  };\n\n  const handleClear = () => {\n    BOARD = makeEmptyBoard(rows, cols);\n    setCells(makeCells(rows, cols));\n  };\n\n  const handleRandom = () => {\n    for (let y = 0; y < rows; y++) {\n      for (let x = 0; x < cols; x++) {\n        BOARD[y][x] = Math.random() >= 0.5;\n      }\n    }\n    setCells(makeCells(rows, cols));\n  };\n  const handleResize = () => {\n    const height = window.innerHeight - 70; //APPBAR HEIGHT - caluclate dynamically using offsetHeight\n    setSize((height / CELL_SIZE) | 0);\n  };\n\n  const buttonClass =\n    \"m-1 text-center bg-gradient-to-r from-green-400 to-blue-500 hover:from-pink-500 hover:to-yellow-500\\\n                items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white\\\n                focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\\\n                \";\n  window.board = BOARD;\n  return (\n    <main className=\"min-w-0 flex-1 border-t border-gray-200 lg:flex\">\n      <section className=\"min-w-0 flex-1 h-full flex flex-col overflow-hidden lg:order-last\">\n        <div\n          className=\"Board\"\n          style={{\n            width: size * CELL_SIZE,\n            height: size * CELL_SIZE,\n            backgroundSize: `${CELL_SIZE}px ${CELL_SIZE}px`,\n          }}\n          onClick={handleClick}\n          ref={boardRef}\n        >\n          {BOARD.map((row, i) =>\n            row.map((col, j) => {\n              return (\n                <Cell\n                  speed={speed * 3}\n                  filled={cells[`${i}${j}`]}\n                  x={i}\n                  y={j}\n                  key={`${i},${j}`}\n                />\n              );\n            })\n          )}\n        </div>\n      </section>\n\n      <aside className=\"lg:block lg:flex-shrink-0 lg:order-first\">\n        <div className=\"h-full relative flex flex-col w-96 border-r border-gray-200 bg-gray-100 p-4\">\n          <label>\n            {\" \"}\n            Speed\n            <input\n              type=\"range\"\n              min=\"10\"\n              max=\"1000\"\n              value={speed}\n              onChange={handleIntervalChange}\n            />\n            {speed}ms\n          </label>\n          <label>\n            {\" \"}\n            Size\n            <input\n              min=\"10\"\n              max=\"150\"\n              type=\"range\"\n              value={size}\n              onChange={handleSizeChange}\n            />\n            {size}\n          </label>\n\n          {isRunning ? (\n            <button className={buttonClass} onClick={stopGame}>\n              Pause\n            </button>\n          ) : (\n            <button className={buttonClass} onClick={runGame}>\n              Play\n            </button>\n          )}\n          <button className={buttonClass} onClick={handleRandom}>\n            Randomise\n          </button>\n          <button className={buttonClass} onClick={handleClear}>\n            Clear Board\n          </button>\n          <button className={buttonClass} onClick={handleResize}>\n            Resize to Fit\n          </button>\n        </div>\n      </aside>\n    </main>\n  );\n};\n\nexport default Grid;\n","import \"./App.css\";\nimport Grid from \"./grid\";\n\nfunction App() {\n  return (\n    <div className=\"bg-gray-100 shadow overflow-hidden sm:rounded-lg\">\n      <nav className=\"bg-gradient-to-r from-light-blue-800 to-cyan-600 px-4 py-5 sm:px-6\">\n        <div className=\"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8\">\n          <div className=\"relative flex items-center justify-between h-16\">\n            <div className=\"flex items-center px-2 lg:px-0\">\n              <div className=\"flex-shrink-0 text-white\">\n                Conway's Game of Life\n              </div>\n            </div>\n          </div>\n        </div>\n      </nav>\n      <Grid />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}